# 排课系统需求文档 (V1.0 - 核心功能版)

## 1. 项目背景与目标

### 1.1 项目背景
本教培机构专注于为初高中学生提供语文、数学、英语等基础学科的辅导，课程形式包括一对一、一对二以及小班课。由于主要面向课外时间（节假日、寒暑假），学生群体多为朋友或同班同学，因此对分班的个性化要求较高。随着业务的发展，手动排课和管理这些多样化的课程变得日益复杂和低效，容易出现时间冲突、资源浪费、信息同步不及时等问题。为了解决这些痛点，提升教学管理效率和教学质量，我们计划开发一个智能、高效的排课系统。

### 1.2 项目目标
* **自动化与智能化**：实现排课过程的自动化，智能检测和解决时间、教师、教室的冲突。
* **信息化管理**：集中管理教师、学生、课程、班级/小组等核心信息，方便查询和追溯。
* **提升效率**：显著降低排课所需的人工和时间成本，快速响应调课、加课等需求。
* **优化资源**：最大化利用教师和教室资源，避免闲置和冲突。
* **改善体验**：为管理员、教师、学生提供清晰、准确、实时的课表信息和通知。

---

## 2. 用户角色与职责

| 角色 | 主要职责 |
| :--- | :--- |
| **系统管理员** | - 管理系统所有基础数据（教师、教室、课程、学生）<br>- 设定教师的不可用时间<br>- 创建和管理其他用户账号<br>- 执行核心排课与调课、代课、加课操作<br>- 查看教师饱和度等各类统计报表 |
| **教师** | - 登录系统查看个人课表<br>- 接收课程变更通知 |
| **学生/家长** | - 登录系统查看个人/班级课表<br>- 接收课程变更通知 |

---

## 3. 核心功能需求 (MVP - 最小可行产品)

### 3.1 基础信息管理
- [x] **教师管理**：
  - [x] 添加/编辑/停用教师信息（姓名、联系方式等）。
  - [x] **核心属性**：可为每位教师关联多个**可教科目**（如：数学、物理）和**可教年级**（如：初一、高三）。
- [x] **课程管理**：
  - [x] 添加/编辑/删除课程信息（名称、科目【语数外等】、适合年级、课时单价等）。
- [x] **教室管理**：
  - [x] 添加/编辑/删除教室信息（名称/编号、容量、位置、设施等）。
- [x] **学生管理**：
  - [x] 学生信息录入（姓名、联系方式、报读课程等）。
  - [x] **学生标签**：支持为学生打上自定义标签（如：`成绩优秀`、`基础薄弱`、`来自A校`），用于辅助分班。

### 3.2 教学单元管理 (班级/小组)
- [x] **灵活创建**：支持创建不同类型的教学单元（小班、一对一/一对二小组）。
- [x] **信息关联**：创建时，需关联具体的课程、授课教师、上课学生。
- [x] **学生调整**：支持在班级/小组内方便地添加或移除学生。

### 3.3 智能排课
- [x] **硬性规则 (最高优先级)**：
    - [x] **教师资质匹配**：排课时，班级/小组的课程科目和年级必须与授课教师的**可教科目**和**可教年级**完全匹配。
    - [x] **时间冲突**：教师、学生、教室在同一时间不能被重复安排。
- [x] **软性规则 (辅助优化)**：
    - [x] **智能分组**：在创建小班时，系统应优先建议将拥有相似“学生标签”（尤其是学术水平相关）的学生组合在一起。
- [x] **一键排课**：根据设定的规则，自动生成初步课表。
- [x] **手动调整**：允许管理员在课表视图上，通过拖拽方式手动微调课程。

### 3.4 课表调整与管理
- [x] **调课**：支持管理员修改已安排课程的时间或教室，并进行实时冲突检测。
- [x] **代课**：支持管理员为某节课临时更换授课教师，系统将自动筛选出符合资质（同学科、同年级）的可用教师。
- [x] **临时加课**：支持管理员添加一次性的课程（如晚自习、补课），并进行冲突检测。

### 3.5 课表展示与查询
- [x] **个人课表**：所有用户（管理员、教师、学生）登录后均可清晰查看与自己相关的课表。
- [x] **多种视图**：支持按周、按天查看总课表。
- [x] **筛选查询**：支持按教师、按班级/小组、按教室、按学生筛选和查看特定课表。
- [x] **统计视图 (管理员)**：为管理员提供教师课时饱和度视图，可按时间范围查询，直观展示每位教师的已安排课时和空闲时段。
- [x] **课表导出/打印**：支持将查询结果导出为 Excel 或 PDF 格式。

### 3.6 通知系统
- [x] **核心通知**：课程安排（首次排课、调课、加课、取消）发生变更后，通过系统消息，并集成 **微信或短信** 接口，自动通知所有受影响的教师和学生/家长。

---

## 4. 非功能性需求

- [x] **易用性**：界面直观，操作简单，无需复杂培训即可上手。
- [x] **性能**：在[例如：100个班级，50位老师]的数据规模下，一键排课的响应时间应在[例如：10秒]以内。
- [x] **兼容性**：系统应能在主流浏览器（Chrome, Firefox, Safari）上正常运行。
- [x] **安全性**：用户密码需加密存储，防止未经授权的访问。

---

## 5. 未来扩展功能 (V2.0)

- [ ] 学生请假与补课流程管理。
- [ ] 课时统计与费用结算。
- [ ] 教师工作量与薪酬统计。
- [ ] 家长/学生在线选课、约课功能。
- [ ] 自动上课提醒功能。